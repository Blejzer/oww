(function(){angular.module("oneWordWorld").controller("EventController",a);a.$inject=["$rootScope","$scope","socket","$state"];function a(b,d,c,e){var g=this;var f=b.event.event_id;d.options={chart:{type:"pieChart",height:500,x:function(h){return h.a},y:function(h){return h.c},showLabels:true,callback:function(){d3.selectAll(".nvd3.text g").style("fill","white")},duration:500,labelThreshold:0.01,labelSunbeamLayout:true,legend:{margin:{top:5,right:35,bottom:5,left:0}}}};d.$on("$stateChangeSuccess",function(){c.emit("newEventPageLoaded",f)});c.on("eventPageSuccess",function(i){var h=JSON.parse(i);d.globalList=h;d.edata=h});c.on("eventCtnPageSuccess",function(i){var h=[];var k=[];var j=JSON.parse(i);j.forEach(function(l){k=l.ewords;h.push({cont:l.cont,ewords:k})});d.contList=h});c.on("disconnect",function(){console.log("event page socket disconnected");c.removeAllListeners()})}})();