(function(){angular.module("oneWordWorld").controller("HomeController",a);a.$inject=["$rootScope","$scope","$location","$window","socket","FacebookFactory","FacebookService"];function a(h,j,f,d,i,b,e){j.ewords=[];j.pwords=[];j.event=[];j.person=[];j.$on("listPerson",function(l,k){j.person=k});j.$on("listEvent",function(l,k){j.event=k});j.submitEword=function(){i.emit("event","event",this.e,this.event.event_id);console.log("eword: ",this.e);j.ei=this.e;this.e="";return false};j.submitPword=function(){i.emit("person","person",this.p,this.person.person_id);console.log("pword: ",this.p);j.pi=this.p;this.p="";return false};j.$on("$stateChangeSuccess",function(){j.event=h.event;j.person=h.person});i.on("test",function(k,l){j.$apply(function(){j.event=k;j.person=l;h.person=l;h.event=k})});i.on("eventWord",function(k){j.ewords.unshift(k)});i.on("personWord",function(k){j.pwords.unshift(k)});i.on("eventList",function(l){var k=JSON.parse(l);j.eventList=k;h.eventList=j.eventList});i.on("personList",function(l){var k=JSON.parse(l);j.personList=k;h.personList=j.personList});i.on("disconnect",function(){console.log("home page socket disconnected");i.removeAllListeners()});var c="415516472142865";var g="418774601817052";b.setLang("en_US");b.init({appId:c,status:true,cookie:false,xfbml:false,version:"v2.9"});j.status=false;j.getAuth=function(k){e.auth(function(l){j.token=l.authResponse.accessToken;e.me(function(m){j.me=m;j.status=true})})};j.logout=function(){e.logout(function(k){j.status=false})};j.disconnect=function(){e.disconnect(function(k){j.status=false})};j.shareWorld=function(){e.share({href:"http://www.worldsword.com/",title:"World`s Word",description:"World`s word is a place where you should try and express yourself in ONE word only!",image:"http://www.worldsword.com/images/OneWordWorld1.png"},function(k){j.me=k;j.status=true})};j.sharePerson=function(){e.share({href:"http://www.worldsword.com/socialp",title:"Person of the week",description:j.person.title,image:j.person.image},function(k){j.me=k;j.status=true})};j.shareEvent=function(){e.share({href:"http://www.worldsword.com/sociale",title:"Event of the week",description:j.event.title,image:j.event.image},function(k){j.me=k;j.status=true})}}})();