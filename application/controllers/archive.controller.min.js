(function(){angular.module("oneWordWorld").controller("ArchiveController",a);a.$inject=["$rootScope","$scope","$state","socket"];function a(b,d,f,c){console.log("ArchiveController loaded");var g=this;g.bar=0;var e={};g.submitDate=function(){console.log("vm.title",g.sel1);console.log("vm.week",g.week);var i=moment(g.week).format("YYYYWW");var h;console.log("test",i);e.week=i;e.type=g.sel1;if(g.sel1="event"){c.emit("checkevnt",e.week);console.log("checkevnt emited")}else{b.archive.person.week=i;console.log("person chosen",b.archive);f.go("person")}};c.on("checkOK",function(i){console.log("checkOK received");var h=JSON.parse(i);console.log("checkOK received",h);e.event=h[0].event_id;b.archive=e;console.log("event chosen",b.archive);f.go("event")})}})();