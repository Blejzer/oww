(function(){angular.module("oneWordWorld").controller("PersonController",a);a.$inject=["$rootScope","$scope","socket","$stateParams"];function a(b,d,c,e){var f=b.person.person_id;d.options={chart:{type:"pieChart",height:500,x:function(g){return g.a},y:function(g){return g.c},showLabels:true,duration:500,labelThreshold:0.01,labelSunbeamLayout:true,legend:{margin:{top:5,right:35,bottom:5,left:0}}}};d.$on("$stateChangeSuccess",function(){c.emit("newPersonPageLoaded",f)});c.on("personPageSuccess",function(h){var g=JSON.parse(h);d.globalList=g;d.pdata=g});c.on("personCtnPageSuccess",function(i){var g=[];var j=[];var h=JSON.parse(i);h.forEach(function(k){j=k.pwords;g.push({cont:k.cont,pwords:j})});d.contList=g});c.on("disconnect",function(){console.log("person page socket disconnected");c.removeAllListeners()})}})();