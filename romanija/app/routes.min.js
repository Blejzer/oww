module.exports=function(b,a){b.get("/",function(d,c){c.render("index.ejs")});b.get("/login",function(d,c){c.render("login.ejs",{message:d.flash("loginMessage")})});b.post("/login",a.authenticate("local-login",{successRedirect:"/main",failureRedirect:"/login",failureFlash:true}),function(d,c){console.log("hello");if(d.body.remember){d.session.cookie.maxAge=1000*60*3}else{d.session.cookie.expires=false}c.redirect("/")});b.get("/signup",function(d,c){c.render("signup.ejs",{message:d.flash("signupMessage")})});b.post("/signup",a.authenticate("local-signup",{successRedirect:"/main",failureRedirect:"/signup",failureFlash:true}));b.get("/event",isLoggedIn,function(d,c){c.render("event.ejs",{user:d.user})});b.get("/person",isLoggedIn,function(d,c){c.render("person.ejs",{user:d.user})});b.get("/logout",function(d,c){d.logout();c.redirect("/")})};function isLoggedIn(c,a,b){if(c.isAuthenticated()){return b()}a.redirect("/")};